---
/**
 * Pure Legal Layout - No Styling
 * Multi-purpose foundation ready for any theme
 */

 import { formatDate } from "../core/blogLogic";
import BaseLayout from "./BaseLayout.astro";
import Breadcrumb from "../components/navigation/Breadcrumb.astro";
import { generateBreadcrumbs } from "../core/navigation/breadcrumbUtils";

const { frontmatter } = Astro.props;
const formattedDate = frontmatter.pubDate ? formatDate(frontmatter.pubDate) : null;
const breadcrumbs = generateBreadcrumbs(`/legal/${frontmatter.title}`);
---

<BaseLayout pageTitle={frontmatter.title} description={frontmatter.description}>
  <div class="py-16">
    <div class="container max-w-4xl">
      <Breadcrumb items={breadcrumbs} />
      
      <div class="theme-card p-8 md:p-12">
        <h1 class="text-3xl md:text-4xl font-bold mb-6" style="color: var(--text-primary); font-family: var(--font-heading)">{frontmatter.title}</h1>
        
        {formattedDate && (
          <div class="mb-8 pb-6" style="border-bottom: 1px solid var(--border-default)">
            <time datetime={frontmatter.pubDate.toISOString()} class="text-sm" style="color: var(--text-secondary)">
              Last updated: {formattedDate}
            </time>
          </div>
        )}
        
        <div class="prose prose-lg max-w-none" 
             style="--tw-prose-headings: var(--text-primary); --tw-prose-body: var(--text-secondary); --tw-prose-links: var(--text-accent); --tw-prose-strong: var(--text-primary); --tw-prose-ul: var(--text-secondary); --tw-prose-ol: var(--text-secondary); --tw-prose-li: var(--text-secondary);">
          <slot />
        </div>
        
        <div class="mt-12 pt-6 text-center" style="border-top: 1px solid var(--border-default)">
          <a href="/" 
             class="inline-flex items-center font-medium transition-colors" 
             style="color: var(--text-accent); transition: color var(--animation-duration) var(--animation-easing)"
             onmouseover="this.style.color='var(--color-primary-dark)'"
             onmouseout="this.style.color='var(--text-accent)'">
            ‚Üê Back to home
          </a>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>